{
  "entities": {
    "Project": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Project",
      "type": "object",
      "description": "Represents a project in Chancellor's portfolio.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Project entity."
        },
        "title": {
          "type": "string",
          "description": "Title of the project."
        },
        "oneLiner": {
          "type": "string",
          "description": "A brief description of the project."
        },
        "logoUrl": {
          "type": "string",
          "description": "URL of the project logo or image.",
          "format": "uri"
        },
        "techStack": {
          "type": "array",
          "description": "List of technologies used in the project.",
          "items": {
            "type": "string"
          }
        },
        "deepDive": {
          "type": "string",
          "description": "Deep dive of the project. This field can hold markdown or other formatted text.",
          "format": "string"
        },
        "demoUrl": {
          "type": "string",
          "description": "URL of the live demo of the project.",
          "format": "uri"
        },
        "githubUrl": {
          "type": "string",
          "description": "URL of the project's GitHub repository.",
          "format": "uri"
        }
      },
      "required": [
        "id",
        "title",
        "oneLiner",
        "logoUrl",
        "techStack",
        "deepDive",
        "demoUrl",
        "githubUrl"
      ]
    },
    "Skill": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Skill",
      "type": "object",
      "description": "Represents a skill or technology used by Chancellor.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Skill entity."
        },
        "name": {
          "type": "string",
          "description": "Name of the skill or technology."
        },
        "category": {
          "type": "string",
          "description": "Category of the skill (e.g., Frontend, Backend, AI/ML, DevOps)."
        }
      },
      "required": [
        "id",
        "name",
        "category"
      ]
    },
    "ProjectSkill": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ProjectSkill",
      "type": "object",
      "description": "Represents the relationship between projects and skills.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the ProjectSkill entity."
        },
        "projectId": {
          "type": "string",
          "description": "Reference to Project. (Relationship: Project 1:N ProjectSkill)"
        },
        "skillId": {
          "type": "string",
          "description": "Reference to Skill. (Relationship: Skill 1:N ProjectSkill)"
        }
      },
      "required": [
        "id",
        "projectId",
        "skillId"
      ]
    },
    "ContactFormSubmission": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ContactFormSubmission",
      "type": "object",
      "description": "Represents a contact form submission.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the ContactFormSubmission entity."
        },
        "name": {
          "type": "string",
          "description": "Name of the submitter."
        },
        "email": {
          "type": "string",
          "description": "Email address of the submitter.",
          "format": "email"
        },
        "message": {
          "type": "string",
          "description": "Message content from the submitter."
        },
        "submissionDate": {
          "type": "string",
          "description": "Date and time the form was submitted.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "name",
        "email",
        "message",
        "submissionDate"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/projects/{projectId}",
        "definition": {
          "entityName": "Project",
          "schema": {
            "$ref": "#/backend/entities/Project"
          },
          "description": "Stores project data. Each document represents a single project.",
          "params": [
            {
              "name": "projectId",
              "description": "Unique identifier for the project."
            }
          ]
        }
      },
      {
        "path": "/skills/{skillId}",
        "definition": {
          "entityName": "Skill",
          "schema": {
            "$ref": "#/backend/entities/Skill"
          },
          "description": "Stores skill data. Each document represents a single skill.",
          "params": [
            {
              "name": "skillId",
              "description": "Unique identifier for the skill."
            }
          ]
        }
      },
      {
        "path": "/projectSkills/{projectSkillId}",
        "definition": {
          "entityName": "ProjectSkill",
          "schema": {
            "$ref": "#/backend/entities/ProjectSkill"
          },
          "description": "Stores the relationships between projects and skills.",
          "params": [
            {
              "name": "projectSkillId",
              "description": "Unique identifier for the projectSkill."
            }
          ]
        }
      },
      {
        "path": "/contactFormSubmissions",
        "definition": {
          "entityName": "ContactFormSubmission",
          "schema": {
            "$ref": "#/backend/entities/ContactFormSubmission"
          },
          "description": "Stores contact form submissions."
        }
      }
    ],
    "reasoning": "The Firestore structure is designed to securely store and manage data for Chancellor's AI Portfolio application. It emphasizes authorization independence and simplifies security rules using denormalization and structural segregation. \n\nProjects and Skills are stored in root-level collections for easy querying. ProjectSkill documents link Projects and Skills. ContactFormSubmissions are stored in a dedicated collection. No user-specific data is stored, eliminating the need for user-based subcollections and complex authorization rules.\n\nAuthorization Independence:\nSince there are no collaborative entities that depend on parent documents, this design inherently provides Authorization Independence. There is no reliance on `get()` calls to parent documents in security rules. The Admin Panel (using Clerk) will be authorized to manage content through other means (e.g., a backend function that verifies Clerk user roles).\n\nQAPs (Rules are not Filters):\nThe structure supports secure list operations because collections are homogeneous and follow the principle of Structural Segregation. Rules can be applied at the collection level without needing to filter based on document content."
  }
}